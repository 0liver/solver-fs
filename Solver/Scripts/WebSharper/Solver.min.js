(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;$.Define($$,{Solver:{Client:{Solve:function(){var q,A,B,C,D,I,J,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,bi,bj,bk,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bI,bJ;q=function(){var s,u,v,w,x,y,z;s=function(){return a.New().Next1(10);};u=s(null);v=s(null);w=s(null);x=s(null);y=s(null);z=s(null);return $$.String(u)+$$.String(v)+$$.String(w)+"="+$$.String(x)+$$.String(y)+$$.String(z);};B=e.ofArray([f.Attr().NewAttr("class","laaarge")]);C=q(null);A=d.add(g.Tags().NewTag("input",B),e.ofArray([f.Attr().NewAttr("value",C)]));D=function(E){return function(){return h.Start(h.Delay(function(){return h.Bind(j.Async("Solver:0",[E.get_Value()]),function(H){E["HtmlProvider@33"].SetStyle(E.get_Body(),H);return h.Return(null);});}),{$:0});};};k.Events().OnKeyPress(D,A);I=A;J=function(K){return function(){var M,N;M="Clicked: "+K.get_Text();if(l){l.log(M);}N=m(n.data(I.Dom,"lastCursorPosition"))<<0;return I.set_Value(o.Substring(I.get_Value(),0,N)+K.get_Text()+I.get_Value().substring(N));};};P=e.ofArray([f.Attr().NewAttr("style","position: absolute; display: none")]);Q=e.ofArray([g.Tags().text("+")]);R=g.Tags().NewTag("kbd",Q);k.Events().OnClick(J,R);S=e.ofArray([g.Tags().text(" ")]);T=e.ofArray([g.Tags().text("-")]);U=g.Tags().NewTag("kbd",T);k.Events().OnClick(J,U);V=e.ofArray([g.Tags().text(" ")]);W=e.ofArray([g.Tags().text("*")]);X=g.Tags().NewTag("kbd",W);k.Events().OnClick(J,X);Y=e.ofArray([g.Tags().text(" ")]);Z=e.ofArray([g.Tags().text("/")]);_0=g.Tags().NewTag("kbd",Z);k.Events().OnClick(J,_0);_1=e.ofArray([g.Tags().text(" ")]);_2=e.ofArray([g.Tags().text("^")]);_3=g.Tags().NewTag("kbd",_2);k.Events().OnClick(J,_3);_4=e.ofArray([g.Tags().text(" ")]);_5=e.ofArray([g.Tags().text("(")]);_6=g.Tags().NewTag("kbd",_5);k.Events().OnClick(J,_6);_7=e.ofArray([g.Tags().text(" ")]);_8=e.ofArray([g.Tags().text(")")]);_9=g.Tags().NewTag("kbd",_8);k.Events().OnClick(J,_9);O=d.add(g.Tags().NewTag("div",P),e.ofArray([R,g.Tags().NewTag("span",S),U,g.Tags().NewTag("span",V),X,g.Tags().NewTag("span",Y),_0,g.Tags().NewTag("span",_1),_3,g.Tags().NewTag("span",_4),_6,g.Tags().NewTag("span",_7),_9]));_=function(ba){var bb,bc,bd,be,bf,bg,bh;bb=ba.Dom.selectionStart;n.data(ba.Dom,"lastCursorPosition",bb);bc=ba.Dom;bd=p(bc,bb);if(l){l.log(bd);}bf=bd.top-25;be=m(bf)+"px";O["HtmlProvider@33"].SetCss(O.get_Body(),"top",be);bh=bd.left-65;bg=m(bh)+"px";O["HtmlProvider@33"].SetCss(O.get_Body(),"left",bg);return O["HtmlProvider@33"].SetCss(O.get_Body(),"display","");};bj=e.ofArray([f.Attr().NewAttr("class","btn btn-primary btn-xs"),f.Attr().NewAttr("style","float: right;")]);bi=d.add(g.Tags().NewTag("button",bj),e.ofArray([g.Tags().text("Start over")]));bk=function(){return function(){I["HtmlProvider@33"].SetStyle(I.get_Body(),"");return I.set_Value(q(null));};};k.Events().OnClick(bk,bi);bn=bi;bp=e.ofArray([g.Tags().text("+")]);bq=e.ofArray([g.Tags().text(" ")]);br=e.ofArray([g.Tags().text("-")]);bs=e.ofArray([g.Tags().text(" ")]);bt=e.ofArray([g.Tags().text("*")]);bu=e.ofArray([g.Tags().text(" ")]);bv=e.ofArray([g.Tags().text("/")]);bw=e.ofArray([g.Tags().text(" ")]);bx=e.ofArray([g.Tags().text("^")]);by=e.ofArray([g.Tags().text(" ")]);bz=e.ofArray([g.Tags().text("(")]);bA=e.ofArray([g.Tags().text(" ")]);bB=e.ofArray([g.Tags().text(")")]);bo=e.ofArray([g.Tags().NewTag("kbd",bp),g.Tags().NewTag("span",bq),g.Tags().NewTag("kbd",br),g.Tags().NewTag("span",bs),g.Tags().NewTag("kbd",bt),g.Tags().NewTag("span",bu),g.Tags().NewTag("kbd",bv),g.Tags().NewTag("span",bw),g.Tags().NewTag("kbd",bx),g.Tags().NewTag("span",by),g.Tags().NewTag("kbd",bz),g.Tags().NewTag("span",bA),g.Tags().NewTag("kbd",bB),bn]);bD=e.ofArray([g.Tags().text(" Use: ")]);bE=e.ofArray([f.Attr().NewAttr("style","position: relative")]);bF=function(bG){return function(){return _(bG);};};k.Events().OnKeyUp(bF,I);bI=I;bJ=function(bK){return function(bL){var bM,bN;bM=bL.Y;bN="["+$$.String(bL.X)+", "+$$.String(bM)+"]";if(l){l.log(bN);}return _(bK);};};k.Events().OnMouseUp(bJ,bI);bC=e.ofArray([d.add(g.Tags().NewTag("h4",bD),bo),d.add(g.Tags().NewTag("p",bE),e.ofArray([bI,O]))]);return g.Tags().NewTag("div",bC);}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Random);b=$.Safe($$.WebSharper.Html);c=$.Safe(b.Client);d=$.Safe(c.Operators);e=$.Safe($$.WebSharper.List);f=$.Safe(c.Attr);g=$.Safe(c.Tags);h=$.Safe($$.WebSharper.Concurrency);i=$.Safe($$.WebSharper.Remoting);j=$.Safe(i.AjaxRemotingProvider);k=$.Safe(c.EventsPervasives);l=$.Safe($$.console);m=$.Safe($$.String);n=$.Safe($$.jQuery);o=$.Safe($$.WebSharper.Strings);return p=$.Safe($$.getCaretCoordinates);});$.OnLoad(function(){return;});}());
