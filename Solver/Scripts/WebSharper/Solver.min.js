(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;$.Define($$,{Solver:{Client:{Solve:function(){var q,A,B,C,D,I,J,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,bc,bd,be,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bw,bx;q=function(){var s,u,v,w,x,y,z;s=function(){return a.New().Next1(10);};u=s(null);v=s(null);w=s(null);x=s(null);y=s(null);z=s(null);return $$.String(u)+$$.String(v)+$$.String(w)+"="+$$.String(x)+$$.String(y)+$$.String(z);};B=e.ofArray([f.Attr().NewAttr("class","laaarge")]);C=q(null);A=d.add(g.Tags().NewTag("input",B),e.ofArray([f.Attr().NewAttr("value",C)]));D=function(E){return function(){return h.Start(h.Delay(function(){return h.Bind(j.Async("Solver:0",[E.get_Value()]),function(H){E["HtmlProvider@33"].SetStyle(E.get_Body(),H);return h.Return(null);});}),{$:0});};};k.Events().OnKeyPress(D,A);I=A;J=function(K){return function(){var M,N;M="Clicked: "+K.get_Text();if(l){l.log(M);}N=m(n.data(I.Dom,"lastCursorPosition"))<<0;return I.set_Value(o.Substring(I.get_Value(),0,N)+K.get_Text()+I.get_Value().substring(N));};};P=e.ofArray([f.Attr().NewAttr("style","position: absolute; display: none")]);Q=e.ofArray([g.Tags().text("+")]);R=g.Tags().NewTag("kbd",Q);k.Events().OnClick(J,R);S=e.ofArray([g.Tags().text("-")]);T=g.Tags().NewTag("kbd",S);k.Events().OnClick(J,T);U=e.ofArray([g.Tags().text("*")]);V=g.Tags().NewTag("kbd",U);k.Events().OnClick(J,V);W=e.ofArray([g.Tags().text("/")]);X=g.Tags().NewTag("kbd",W);k.Events().OnClick(J,X);Y=e.ofArray([g.Tags().text("^")]);Z=g.Tags().NewTag("kbd",Y);k.Events().OnClick(J,Z);_0=e.ofArray([g.Tags().text("(")]);_1=g.Tags().NewTag("kbd",_0);k.Events().OnClick(J,_1);_2=e.ofArray([g.Tags().text(")")]);_3=g.Tags().NewTag("kbd",_2);k.Events().OnClick(J,_3);O=d.add(g.Tags().NewTag("div",P),e.ofArray([R,T,V,X,Z,_1,_3]));_4=function(_5){var _6,_7,_8,_9,_,ba,bb;_6=_5.Dom.selectionStart;n.data(_5.Dom,"lastCursorPosition",_6);_7=_5.Dom;_8=p(_7,_6);if(l){l.log(_8);}_=_8.top-25;_9=m(_)+"px";O["HtmlProvider@33"].SetCss(O.get_Body(),"top",_9);bb=_8.left-65;ba=m(bb)+"px";O["HtmlProvider@33"].SetCss(O.get_Body(),"left",ba);return O["HtmlProvider@33"].SetCss(O.get_Body(),"display","");};bd=e.ofArray([f.Attr().NewAttr("class","btn btn-primary btn-xs"),f.Attr().NewAttr("style","float: right;")]);bc=d.add(g.Tags().NewTag("button",bd),e.ofArray([g.Tags().text("Start over")]));be=function(){return function(){I["HtmlProvider@33"].SetStyle(I.get_Body(),"");return I.set_Value(q(null));};};k.Events().OnClick(be,bc);bh=bc;bj=e.ofArray([g.Tags().text("+")]);bk=e.ofArray([g.Tags().text("-")]);bl=e.ofArray([g.Tags().text("*")]);bm=e.ofArray([g.Tags().text("/")]);bn=e.ofArray([g.Tags().text("^")]);bo=e.ofArray([g.Tags().text("(")]);bp=e.ofArray([g.Tags().text(")")]);bi=e.ofArray([g.Tags().NewTag("kbd",bj),g.Tags().NewTag("kbd",bk),g.Tags().NewTag("kbd",bl),g.Tags().NewTag("kbd",bm),g.Tags().NewTag("kbd",bn),g.Tags().NewTag("kbd",bo),g.Tags().NewTag("kbd",bp),bh]);br=e.ofArray([g.Tags().text(" Use: ")]);bs=e.ofArray([f.Attr().NewAttr("style","position: relative")]);bt=function(bu){return function(){return _4(bu);};};k.Events().OnKeyUp(bt,I);bw=I;bx=function(by){return function(bz){var bA,bB;bA=bz.Y;bB="["+$$.String(bz.X)+", "+$$.String(bA)+"]";if(l){l.log(bB);}return _4(by);};};k.Events().OnMouseUp(bx,bw);bq=e.ofArray([d.add(g.Tags().NewTag("h4",br),bi),d.add(g.Tags().NewTag("p",bs),e.ofArray([bw,O]))]);return g.Tags().NewTag("div",bq);}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Random);b=$.Safe($$.WebSharper.Html);c=$.Safe(b.Client);d=$.Safe(c.Operators);e=$.Safe($$.WebSharper.List);f=$.Safe(c.Attr);g=$.Safe(c.Tags);h=$.Safe($$.WebSharper.Concurrency);i=$.Safe($$.WebSharper.Remoting);j=$.Safe(i.AjaxRemotingProvider);k=$.Safe(c.EventsPervasives);l=$.Safe($$.console);m=$.Safe($$.String);n=$.Safe($$.jQuery);o=$.Safe($$.WebSharper.Strings);return p=$.Safe($$.getCaretCoordinates);});$.OnLoad(function(){return;});}());
